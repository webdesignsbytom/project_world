<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://kit.fontawesome.com/37d6505749.js" crossorigin="anonymous"></script>

</head>

<style>
    * {
        margin: 0;
        padding: 0;
    }

    body {
        overflow-x: hidden;
        overflow-y: hidden;
        background-color: rgb(39, 44, 67);
    }

    #name {
        position: absolute;
        background-color: rgb(255, 255, 255);
        width: fit-content;
        opacity: 0;
        border-radius: 5px;
        border: 3px solid rgb(245, 128, 128);
        padding: 0px 5px;
        font-size: 1.5rem;

    }



    svg path {
        cursor: pointer;
    }
</style>

<body id="body">

    <?xml version="1.0"?>

    <div id="name">
        <p id="namep">Name</p>
    </div>

        <path class="allPaths" id="Guadeloupe"
            d="M 643 399.9 642.7 399.9 642.5 399.5 642.6 399.3 642.9 399 643.2 399.2 643.3 399.5 643.3 399.7 643 399.9 Z">
        </path>
        <path class="allPaths" id="Guadeloupe"
            d="M 641.2 397.3 641.5 397.3 641.5 397.5 641.5 397.6 641.3 397.7 641.3 398.5 641.3 398.9 641.1 399.1 640.5 399.4 640.5 399.2 640.3 399 640.2 398.5 640.2 398 640.1 397.5 640.1 397.2 640.3 396.9 640.6 396.8 641.1 397.1 641.2 397.3 Z">
        </path>
        <path class="allPaths" id="Guadeloupe"
            d="M 642.6 396.9 643 397 643.5 397.4 642.2 397.7 641.9 397.8 641.5 397.5 641.6 396.9 641.8 396.8 641.7 396.2 641.8 396 642.1 395.8 642.4 396.2 642.4 396.6 642.6 396.9 Z">
        </path>
        <circle cx="997.9" cy="189.1" id="0">
        </circle>
        <circle cx="673.5" cy="724.1" id="1">
        </circle>
        <circle cx="1798.2" cy="719.3" id="2">
        </circle>
    </svg>
    <div>
        <a id="alink" style="height: 200px;">HHHHHHHHHHHHHHH</a>
    </div>
</body>

<script>
    async function getUser(place) {
        const api_url = `https://timezone.abstractapi.com/v1/current_time/?api_key=YOUR_API_KEY&location=${place}`

        const response = await fetch(api_url);

        const data = await response.json();

        time = await data.datetime
        // arr = Array.from(time)
        // arr.splice(0, 11)
        // arr.toString()
        // timezone = (arr.splice(0, 5)).join("");
        document.getElementById("time").innerText = `${place}'s time = ${time} ${data.timezone_abbreviation}`

    }

    document.querySelectorAll(".allPaths").forEach(e => {
        e.setAttribute('class', `allPaths ${e.id}`);
        e.addEventListener("mouseover", function () {
            window.onmousemove = function (j) {
                x = j.clientX
                y = j.clientY
                document.getElementById('name').style.top = y - 60 + 'px'
                document.getElementById('name').style.left = x + 10 + 'px'
            }
            const classes = e.className.baseVal.replace(/ /g, '.')
            document.querySelectorAll(`.${classes}`).forEach(country => {
                country.style.fill = "pink"
            })
            document.getElementById("name").style.opacity = 1

            document.getElementById("namep").innerText = e.id
        })
        e.addEventListener("mouseleave", function () {
            const classes = e.className.baseVal.replace(/ /g, '.')
            document.querySelectorAll(`.${classes}`).forEach(country => {
                country.style.fill = "#ececec"
            })
            document.getElementById("name").style.opacity = 0
        })

        e.addEventListener("click", function () {
            getUser(e.id)
        }) 

    })




    // document.getElementById("searchBtn").addEventListener("click", function () {
    //     country = document.getElementById("search").value
    //     document.querySelectorAll(`.allPaths`).forEach(e => {
    //         e.style.fill = "#ececec"
    //     })
    //     document.querySelectorAll(`#${country}`).forEach(e => {
    //         e.style.fill = "red"
    //     })
    // })



</script>

</html>